## Fonts

Конструкция для подключения шрифтов CSS. 
TODO: добавить информацию по переменным шрифтов

```css
@font-face {
font-family: 'Avenir Next';
font-display: swap;
font-style: normal;
font-weight: 400;
src:
    url('../fonts/avenir-next-regular.woff2') format('woff2'),
    url('../fonts/avenir-next-regular.woff') format('woff');

}
```

### Font Display

TODO: раздел для уточнения

font-display - это свойство из @font-face определяет как шрифт будет загружен и отображен браузером.

Возможные значения:

- auto (default): по сути полностью совпадает с block.
- block: Браузер будет резервировать место под текст, но при этом самого текста видно не будет, пока не загрузится шрифт. Такое поведение шрифта называют flash of invisible text или FOIT.
- swap: Пока загружается шрифт, браузер будет отображать текст шрифтом, который у него имеется из списка указанных шрифтов. И как только наш кастомный шрифт загрузился, браузер применит его вместо фолбэек шрифтов. Такое поведение шрифта называют flash of unstyled text или FOUT.
- fallback: Эдакий компромисс между auto/block и swap. Браузер будет скрывать текст, в течении первых 100мс, если шрифт все еще не приехал, то тогда будет показываться фолбэк шрифт. И если наш шрифт успел приехать в течении приблизительно первых трех секунд, то тогда переключится на него.
- optional: Like fallback, this value tells the browser to initially hide the text, then transition to a fallback font until the custom font is available to use. However, this value also allows the browser to determine whether the custom font is even used at all, using the user's connection speed as a determining factor where slower connections are less likely to receive the custom font.

### FOUT, FOIT

TODO: раздел для уточнения

**FOIT - Flash of Invisible Text**

**FOUT - Flash of Unstyled Text**

От этих проблем полностью не избавиться, но можно выбрать с какой будем мириться. И выглядит так что FOUT это меньшее из зол.
Больше об этом можно почитать [**здесь**](https://css-tricks.com/fout-foit-foft/).

### Optimization checklist
Помогайте браузеру оптимизировать загрузку шрифтов и их использование.

- **Убедитесь, что шрифты, которые вы загружаете необходимы.** Не используйте слишком много разновидностей, 
и вариаций для каждого из них. Это напрямую влияет на загрузку страницы. Также это плохо отражается на консистентности дизайна,
что отрицательно сказывается на UX.
- **Избавьтесь от ненужных подмножеств unicode символов.** Проще говоря, уберите ненужные языки из вашего шрифта.
Например, для английского сайта совсем не обязательно иметь поддержку всех языков европы. 
Вместо этого, вы можете выделить эти их в отдельные файлы, и подключать по мере необходимости. 
Это положительно скажется на размере файлов, а значит и на скорости загрузки страницы.
- **Используйте актуальные форматы шрифтов.** На данный момент, для всех современных браузеров, актуальны следующие форматы:
woff2, woff для IE11.
- **Используйте preload.** Пример:

```html
<link rel="preload" href="/my-font.woff2" as="font" type="font/woff2"/>
```
Браузер начнет загружать эти шрифты намного раньше, что позволит, в самое короткое время, применить их для страницы.

- **Если вы используете CDN или хостинг, убедитесь что они выставляют для шрифтов атрибут с большим cache-time параметром.** 
Это поможет пользователям загружать эти шрифты меньшее количество раз.

### Кеширование шрифта

Для проверки работоспособности шрифта не забывайте,
что надо выключать опцию disable cache во вкладке devtools инструментов разработчиков.


### Платные шрифты

Вам необходимо проверять доступность шрифта, который используется дизайнером на странице.
Бесплатный? Cкачиваем нужные версии и используем их в проекте.
Платный? Отправляем запрос к дизайнеру/менеджеру/тим лиду, чтобы получить необходимые исходники шрифтов.

Проверять доступность шрифта можно здесь:

- [Google fonts](https://fonts.google.com/)
- [Fontsquirrel](https://www.fontsquirrel.com/)
