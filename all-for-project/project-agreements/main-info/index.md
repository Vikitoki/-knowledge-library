# Основная информация по процессам

## Чеклист для Pull request

- [ ] Проверить, что соблюдены все договорённости по проекту.
- [ ] Запустить yarn typechecking и убедиться, что проект проходит проверку типов.
- [ ] Запустить yarn build и убедиться, что нет ошибок при сборке проекта.
- [ ] Запустить yarn start и убедиться, что проекта запускается.
- [ ] Проверить работоспособность проекта в браузере.

## Ревью

Ревью — одна из фундаментальных инженерных практик для поддержания качества кода. Важно, чтобы этот процесс помогал нам! Любой разработчик — это человек, а значит глаз замыливается, мозг туманится, солнце встаёт. Разработчик может что-то забыть/пропустить.

Данный чек-лист должен помочь ревьюеру убедиться, что он не забыл проверить важные пункты перед апрувом. Ревью — это процесс общения! Иногда какие-то пункты можно опустить по договорённости. Поэтому не стоит считать, что данный ниже список — это строгий набор правил.

- [ ] Коммиты написаны согласно принятым договоренностям, заголовок PR содержит номер задачи из TFS
- [ ] Разработчик прокоментировал пропсы, action-ы, саги, эффекты, сервисы, неочевидные решения
- [ ] Код написан понятно, имена переменных читаемы, не используются излишние сложные конструкции
- [ ] Я разобрался в коде, задал все необходимые вопросы и готов дорабатывать этот код в случае необходимости (!)
- [ ] На стенде или в ветке разработчика не возникают неожиданные ошибки в консоле
- [ ] Текущее решение не пересекается и не противоречит одному из ваших или текущему PR

## Технический долг

В проекте мы не заметаем проблемы "под ковёр". Если при выполнении какой-то задачи,
разработчик понимает, что участок кода или компонент можно\нужно написать лучше, то он сам создаёт
задачу в менеджере задач с меткой "технический долг" или "рефакторинг".
В ней описываются цели и обоснование. В случае утверждения задачи,
она будет реализована по мере появления времени у разработчика или в специальный отведённый период.

## Файловая структура корневой директории

```
  ~ - корень
  ~components - общие компонент
  ~routes - компоненты роутеров с мета информацией
  ~routes-content - компонента контента страниц + дети
  ~store - глобальное хранилище
  ~shared - общие вспомогательные функции присущие для определённых страниц
  ~utils - общие вспомогательные функции для переиспользования по всему проекту
  ~public - публичная папка для картинок, шрифта, иконок и т.д.
  ~constants - общие константы проекта, breakpoints к примеру
  ~styles - глобальные стили
  ~types - общие типы
```

Если необходимого псевдонима почему-то нет, то либо он не нужен, и разработчик что-то делает не так, либо нужно добавить новый.

Исключения.

1. В основной директории есть папка components. В ней может быть разделение на 2 папки pure и specific.

   - В pure попадают только переиспользуемые UI компоненты.
   - В specific же находятся компоненты, которые используются в
     нескольких местах одновременно и очень сильно связаны с контентной частью. Такие компоненты, как правило, знают об окружении
     где они используются (например, внутри используется константа, которую нельзя просто так передать компоненту в качестве props).
     Если появляются такие компоненты, это говорит о сложности бизнес логики, либо о том, что что-то идёт не так.
     Старайтесь избегать появления таких компонентов в вашем проекте.

## Установка и обновления npm пакетов

В проекте мы сами контролируем версии используемых модулей. После установки нового пакета, нужно убрать знак "^" в package.json, чтобы модуль сам не мог обновлять минорные патчи. Неконтролируемые обновления пакетов, приводят к скрытым багам. Раз в пол года (или чаще) мы создаём задачу на обновление зависимостей. После этого один из разработчиков проходится по зависимостям package.json и обновляет то, что можно безопасно обновить. В случае если один из модулей радикально обновился и проект требует миграции, то создаётся отдельная задача на эту миграцию.

### Контроль зависимостей

При установке нового пакета внимательно следите куда именно устанавливается зависимость в dependencies или devDependencies. То что нужно в продакшене - в dependencies, то что нужно на этапе
разработки - в devDependencies.
