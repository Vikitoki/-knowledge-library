# Картинки

---

## img

У тега полно интересных атрибутов:

1. alt - обязательный атрибут (как и src). Текст в alt называется альтернативным описанием изображения и рассказывает словами, что изображено. Это полезно, если картинка не загрузилась или пользователь не видит изображения.

2. width и height - При помощи этих атрибутов размеры изображения задаются прямо в HTML. Вы можете спросить: зачем так, ведь стиль нужно задавать с помощью CSS? Это нужно, чтобы избежать прыжков контента при загрузке страницы. Частая ситуация, когда картинка очень тяжёлая, а скорость интернета пользователя невысокая. При этом сами единицы измерения px указывать не нужно, браузер поймёт.

3. srcset - Самый простой способ предложить браузеру версию картинки с повышенным разрешением — указать её в атрибуте srcset. Пример:

   ```html
   <img
     src="logo.png"
     srcset="logo@2x.png 2x"
     alt="Логотип: собака, бегущая за мячом, изображено схематично"
   />
   ```

   Также атрибут srcset можно использовать в сочетании с атрибутом sizes, чтобы подсказать браузеру, какие варианты картинок есть, и помочь ему выбрать подходящие ситуации.

4. sizes - HTML даёт возможность загружать разные изображения в зависимости от разных условий. Частая ситуация: разные картинки под разные ширины экранов.

   Можно делать это при помощи тега `<picture>`, а можно задать атрибуты srcset и sizes прямо в теге `<img>`.

   - srcset — атрибут, принимающий несколько строк, разделённых запятой. Каждая строка должна содержать ссылку на картинку и указание фактической ширины картинки, значения разделяются пробелом. При этом после ширины ставится единица измерения w, а не px.
   - sizes — атрибут, в котором указывается одно или несколько условий через запятую. Каждая строка состоит из медиавыражения и ширины блока для картинки, разделённых пробелом. Ширину блока для картинки можно указывать в любых единицах измерения, кроме процентов.

   ```html
   <img
     src="logo-large.png"
     srcset="logo-small.png 320w, logo-medium.png 480w, logo-large.png 800w"
     sizes="
         (max-width: 320px) 280px,
         (max-width: 480px) 440px,
         800px"
     alt="Логотип: собака, бегущая за мячом, изображено схематично"
   />
   ```

   При чтении кода из примера выше:

   - На экранах от 0 до 320 пикселей загрузится logo-small.png.
   - На экранах от 321 до 480 пикселей загрузится logo-medium.png.
   - На всех прочих ширинах (или если браузер не поддерживает эти атрибуты) загрузится logo-large.png.

   Браузер остановит проверку и чтение атрибутов, как только найдёт совпадение с условием. Поэтому располагайте условия от меньших к большим.

5. loading и decoding - о них подробнее в документации

---

## figure

Тег используется для вёрстки иллюстраций, изображений или другого автономного содержимого, которое может иметь поясняющую подпись в виде тега `<figcaption>`. Пример:

```html
<figure>
  <img src="elephant-sunset.jpg" alt="Слон на фоне заката" />
  <figcaption>Слон на фоне заката</figcaption>
</figure>
```

Подпись может быть с уточнением:

```html
<figure>
  <img src="/favicon144.png" alt="Красивое лого" />
  <figcaption>
    <p>Новый красивый логотип</p>
    <p>Автор: Дока Дог</p>
  </figcaption>
</figure>
```

- Если содержимое элемента на странице является автономным (даже в отрыве от основного контента будет иметь смысл) и имеет подпись, то почти наверняка можно верстать его тегом `<figure>`. Самыми яркими примерами такого содержимого могут быть:

- Картинка либо другое медиасодержимое с подписью;
  фрагменты кода с пояснением;
  цитата с указанием автора;
  отрывок стихотворения с указанием автора и т.п. Разрешено использовать только один тег `<figcaption>` внутри `<figure>`.

- Элемент `<figcaption>`, если он есть, обязательно должен быть первым или последним потомком элемента `<figure>`.

---

## picture

Тег используется, когда для разных устройств или вариантов отображения нам нужны разные картинки. Внутри тега обязательно должен находиться тег `<img>`, и опционально — теги `<source>`. Пример:

```html
<picture>
  <source srcset="320.jpg" media="(max-width: 800px)" />
  <img src="640.jpg" alt="Абстрактное изображение" />
</picture>
```

- Если медиавыражение не сработало, то браузер не загружает для него изображение. Так что можно не экономить и писать столько условий, сколько нужно.

- Тег не является полноценным блочным контейнером, как `<div>`, поэтому стили необходимо применять к тегу `<img>` внутри.

- Не обязательно останавливаться только на размерах картинок для мобильных и ПК. Можно использовать медиавыражения для определения тёмной темы на устройстве пользователя и подменять картинку, делая интерфейс более приятным для глаз.

```html
<picture>
  <!-- Картинка для тёмной темы -->
  <source srcset="image-dark.png" media="(prefers-color-scheme: dark)" />
  <!-- Картинка по умолчанию для светлой темы -->
  <img src="image-light.png" alt="" />
</picture>
```

---

## source

При помощи тега можно указать несколько источников для видео `<video>`, аудио `<audio>` или изображения `<picture>`. Очень пригождается, когда нужно подключить контент в нескольких форматах для лучшей поддержки в разных браузерах. Примеры:

1. Пример указания пути до видеофайла в форматах WebM и MP4:

   ```html
   <video controls width="250" height="200" muted>
     <source src="birthday.webm" type="video/webm" />
     <source src="birthday.mp4" type="video/mp4" />
   </video>
   ```

2. Пример указания пути до аудиофайла в форматах MP3 и OGG:

   ```html
   <audio controls>
     <source src="song.mp3" type="audio/mpeg" />
     <source src="song.ogg" type="audio/ogg" />
   </audio>
   ```

3. Пример использования тега для адаптивных изображений. При ширине экрана от 0 до 599 пикселей будет загружено изображение small.jpg, на ширине экрана от 600 пикселей будет загружено изображение big.jpg:

   ```html
   <picture>
     <source srcset="big.jpg" media="(min-width: 600px)" />
     <img src="small.jpg" alt="Абстрактное изображение" />
   </picture>
   ```

Интересный атрибут srcset. В нём через запятую перечисляются строки, которые дают браузеру информацию об изображениях. Каждая строка состоит из следующих частей:

- URL изображения (например,1024x768.png);
- Целое число, за которым идёт буква w (например, 1024w). Число указывает на ширину изображения в пикселях;
- Число, за которым идёт буква x (например, 1.5x). Число указывает на плотность пикселей, для которой будет использоваться изображение.

Например, атрибут может выглядеть так:

1. Эта запись означает, что для экранов с обычной плотностью пикселей будет использовано изображение 640x480.png, а для экранов с удвоенной плотностью пикселей (например, для retina-экранов) — 1280x960.png.

   ```html
   <source srcset="640x480.png 1x, 1280x960.png 2x" />
   ```

2. Здесь мы говорим браузеру, что изображение 1024x768.png имеет ширину 1024 px, а изображение 640x480.png — 640 px. Эта информация помогает браузеру определить, какое изображение выбрать при разборе соседнего атрибута sizes.

   ```html
   <source srcset="1024x768.png 1024w, 640x480.png 640w" />
   ```

Использование атрибутов srcset и sizes отлично работает и просто в теге `<img>`, а теги `<source>` чаще всего используются совместно с атрибутом type. Подготовка и указание изображений, видео или аудио различных типов помогает браузеру выбрать наиболее эффективный поддерживаемый формат. Пример:

```html
<picture>
  <source type="image/avif" srcset="photo.avif" />
  <source type="image/webp" srcset="photo.webp" />
  <source type="image/jpeg" srcset="photo.jpg" />
  <img src="photo.jpg" alt="Тестовая картинка" />
</picture>
```

---

## SVG

Тег парный. Всегда!

Интересные особенности атрибутов:

- width и height — атрибуты, указывающие размеры svg-элемента. Значением может быть число без указания единиц измерения, тогда браузер будет воспринимать его как пиксели: width="100" height="100". Можно указать в процентах: width="100%" height="100%". Могут указываться как оба сразу, так и по отдельности. Если планируете вставлять SVG в HTML кодом, то отдайте предпочтение атрибуту viewBox вместо указания ширины и высоты. Тогда при изменении размеров через CSS картинка будет подстраиваться под размеры с сохранением пропорций.

- meet — картинка стремиться уместиться целиком с сохранением пропорций. Чем-то похоже на поведение background-size: contain для фона.
- slice — изображение пытается заполнить собой всё доступное пространство. Похоже на background-size: cover.

Совет - всегда перед использованием SVG в проекте прогоняйте его через оптимизатор [SVGO](https://jakearchibald.github.io/svgomg/).Он удалит всё ненужное, код станет приятнее и будет меньше весить.
