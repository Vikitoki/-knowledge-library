# API

## React.lazy

Функция React.lazy позволяет рендерить динамический импорт как обычный компонент.
React.lazy принимает функцию, которая должна вызвать динамический `import()`.
Результатом возвращённого Promise является модуль, который экспортирует **по умолчанию (export default)** React-компонент.

Компонент с ленивой загрузкой должен рендериться внутри компонента `Suspense`, который позволяет
нам показать запасное содержимое (например, индикатор загрузки) пока происходит загрузка ленивого компонента.

Проп `fallback` принимает любой React-элемент, который вы хотите показать, пока происходит загрузка компонента.
Компонент `Suspense` можно разместить в любом месте над ленивым компонентом.
Кроме того, можно обернуть несколько ленивых компонентов одним компонентом `Suspense`.

```jsx
import React, { Suspense } from "react/index";

const OtherComponent = React.lazy(() => import("./OtherComponent"));

function MyComponent() {
  return (
    <div>
      <Suspense fallback={<div>Загрузка...</div>}>
        <OtherComponent />
      </Suspense>
    </div>
  );
}
```

## React Context.Provider

Все потребители, которые являются потомками Provider, будут повторно рендериться, как только проп value у Provider изменится.
Потребитель (включая `.contextType` и `useContext`) перерендерится при изменении контекста, даже если его родитель,
не использующий данный контекст, блокирует повторные рендеры с помощью `shouldComponentUpdate`.

## React Profiler

Profiler может быть добавлен в любую часть React-дерева для измерения стоимости рендеринга этой части.
Он принимает два пропа: `id` (string) и колбэк `onRender` (function), который React вызывает каждый раз,
когда компонент внутри дерева «фиксирует» обновление.
Для замера разных частей приложения могут быть использованы несколько компонентов Profiler.
Пример:

```jsx
render(
  <App>
    <Profiler id="Navigation" onRender={callback}>
      <Navigation {...props} />
    </Profiler>
    <Main {...props} />
  </App>
);

render(
  <App>
    <Profiler id="Navigation" onRender={callback}>
      <Navigation {...props} />
    </Profiler>
    <Profiler id="Main" onRender={callback}>
      <Main {...props} />
    </Profiler>
  </App>
);
```

Несмотря на то, что компонент Profiler достаточно легковесный,
его следует использовать только при необходимости; каждое его использование увеличивает нагрузку на CPU и память.

## React StrictMode

Инструмент для обнаружения потенциальных проблем в приложении.

На данный момент StrictMode помогает в:

- Обнаружении небезопасных методов жизненного цикла
- Предупреждении об использовании устаревшего API строковых реф
- Предупреждении об использовании устаревшего метода findDOMNode
- Обнаружении неожиданных побочных эффектов
- Обнаружении устаревшего API контекста
