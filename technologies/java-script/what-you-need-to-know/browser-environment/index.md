# Браузерное окружение

## Модальные окна

- prompt. Показывает сообщение и запрашивает ввод текста от пользователя. Возвращает напечатанный в поле ввода текст или null, если была нажата кнопка «Отмена» или Esc с клавиатуры. Лучше всего всегда устанавливать значение по умолчанию!

  ```js
  let test = prompt("Test", "");
  ```

- confirm. показывает сообщение и ждёт, пока пользователь нажмёт OK или Отмена. Возвращает true, если нажата OK, и false, если нажата кнопка «Отмена» или Esc с клавиатуры.

## Событийный цикл: микрозадачи и макрозадачи

Основной принцип работы: Сразу после каждой макрозадачи движок исполняет все задачи из очереди микрозадач перед тем, как выполнить следующую макрозадачу или отобразить изменения на странице, или сделать что-то ещё.

Все микрозадачи завершаются до обработки каких-либо событий или рендеринга, или перехода к другой макрозадаче.

Советы:

- Чтобы добавить в очередь новую макрозадачу используйте setTimeout(f) с нулевой задержкой.
  Этот способ можно использовать для разбиения больших вычислительных задач на части, чтобы браузер мог реагировать на пользовательские события и показывать прогресс выполнения этих частей. Также это используется в обработчиках событий для отложенного выполнения действия после того, как событие полностью обработано (всплытие завершено).

- Для добавления в очередь новой микрозадачи используйте queueMicrotask(f).
