# Алгоритмы и структуры данных

## Array

- Array.sort(fn)

  Он возвращает отсортированный массив, но обычно возвращаемое значение игнорируется, так как изменяется сам arr. _По умолчанию элементы сортируются как строки._

  Чтобы использовать наш собственный порядок сортировки, нам нужно предоставить функцию в качестве аргумента arr.sort().

  ```js
  function compareNumeric(a, b) {
    if (a > b) return 1;
    if (a == b) return 0;
    if (a < b) return -1;
  }

  let arr = [2, 1, 15];

  arr.sort(compareNumeric);

  alert(arr); // 1, 2, 15
  ```

  Метод arr.sort(fn) реализует общий алгоритм сортировки. Нам не нужно заботиться о том, как он работает внутри (в большинстве случаев это оптимизированная быстрая сортировка или Timsort). Она проходится по массиву, сравнивает его элементы с помощью предоставленной функции и переупорядочивает их. Всё, что остаётся нам, это предоставить fn, которая делает это сравнение. На самом деле от функции сравнения требуется любое положительное число, чтобы сказать «больше», и отрицательное число, чтобы сказать «меньше». Это позволяет писать более короткие функции:

  ```js
  let arr = [2, 1, 15];

  arr.sort((a, b)  => a - b;
  );

  alert(arr); // 1, 2, 15
  ```

  Кстати, если мы когда-нибудь захотим узнать, какие элементы сравниваются – ничто не мешает нам вывести их на экран:

  ```js
  [1, -2, 15, 2, 0, 8].sort(function (a, b) {
    alert(a + " <> " + b);
    return a - b;
  });
  ```

- Обратите внимание, что методы sort, reverse и splice изменяют исходный массив.

## Map и Set

1. Map – коллекция пар ключ-значение. Отличия от обычного объекта Object:

   - Что угодно может быть ключом, в том числе и объекты.
   - Есть дополнительные методы, свойство size.

2. Set – коллекция уникальных значений, так называемое «множество».

## WeakMap и WeakSet

WeakSet – это Set-подобная коллекция, которая хранит только объекты и удаляет их, как только они становятся недостижимыми иными путями.

Обе этих структуры данных не поддерживают методы и свойства, работающие со всем содержимым сразу или возвращающие информацию о размере коллекции. Возможны только операции на отдельном элементе коллекции.

WeakMap и WeakSet используются как вспомогательные структуры данных в дополнение к «основному» месту хранения объекта. Если объект удаляется из основного хранилища и нигде не используется, кроме как в качестве ключа в WeakMap или в WeakSet, то он будет удалён автоматически.
