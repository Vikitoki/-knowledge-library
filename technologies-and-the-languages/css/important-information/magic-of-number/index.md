# Magic

## Общая закономерность

На проекте любого масштаба и любой специфики полезно сохранять консистентность. Это касается и повторяющихся значений, приёмов
проектирования функциональной части, архитектурных решений. Например, css переменные, которые так или иначе повторяются
в разных частях проекта, должны быть сохранены в отдельный файл. Позднее можно будет производить их экспорт именно отсюда.
Чаще всего такие файлы размещаются ближе к корню проекта в папке с говорящим названием. Например:

```
constants/css/color/(index.js/index.css/index/scss)
```

## Неописуемые размеры

Очень часто, мы используем "магические цифры" в определении свойств css файлов. Происходит это из-за того, что мы
бездумно пытаемся копировать размеры, указанные в дизайне. Однако, стоит знать, что дизайнеры не страдают болезнью, которая
имеет сегодня говорящее название - pixel perfect.
Это значит, что элементы, по большей части, размещены свободно и имеют некоторый разброс в значениях свойств.
Где-то разница может быть не критичной и достигать 2-3 пикселя. Но бывают случаи, когда разница может
составлять больше 20, хотя никакого смысла данный разброс не несёт.
Чтобы решить данную проблему, мы прибегаем к принципу усреднения числа, кратного 2 или 5. Если размер меньше 30 -
берите число кратное 2. Если больше 30 - берите число кратное 5.
Существуют макеты, в которых может быть прямо обозначено, какие размеры следует использовать в нестандартных случаях.
Знайте, если вы находите размер, выбивающийся из системы, то вы должны взять ближайший размер, применив правило усреднения.

## Магический z-index

Будьте аккуратными при использовании z-index. Во-первых, потому что свойство не работает для элементов, которые имеют
свойство position: static (то есть, по умолчанию, для всех элементов). Во-вторых, важно помнить, что свойство z-index наследуется.
Если прямой или непрямой родитель рассматриваемого элемента имеет заданный z-index, то z-index этого элемента будет изменяться
в пределах этого родителя. В такой ситуации, неважно насколько большое значение будет задано.

Для решения проблем консистентности, мы используем закономерности, которые были описаны выше:

1. Мы формируем файл, который содержит в себе константы с говорящими названиями.
   При его заполнении, не стоит создавать очень большие значения. Используйте значения в диапазоне от 0 до 1000. Пример:

```js
export const Z_INDEX_LAYOUTS = 100;
export const Z_INDEX_MENU = 200;
export const Z_INDEX_SPINNER = 300;
export const Z_INDEX_MODAL = 400;
```

```scss
$layer-layouts: 100;
$layer-menu: 200;
$layer-spinner: 300;
$layer-modal: 400;
```

2. Для локального использования, обнуляйте значение z-index у родительского блока. Не увлекайтесь значениями z-index,
   у элементов потомков. По возможности, оставайтесь в пределах значений от -10 до 10. Пример:

```scss
.block {
  position: relative;
  z-index: 0;

  &_bg {
    position: absolute;
    z-index: -1;
  }

  &_play {
    position: absolute;
    z-index: 1;
  }
}
```
